# Gemini Flow Backend Environment Variables

# Google Gemini API Key (required)
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Alternative API key name (optional)
GOOGLE_AI_API_KEY=your_google_ai_api_key_here

# Server Configuration
PORT=3001

# CORS Origins (for development)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Logging Configuration
# Log levels: trace, debug, info, warn, error, fatal
# Recommended: 'debug' for development, 'info' for production
LOG_LEVEL=info

# Environment (affects log formatting)
# 'development' enables pretty printing, 'production' uses JSON
NODE_ENV=development

# ============================================
# Security Configuration
# ============================================

# API Key Authentication
# Comma-separated list of valid API keys for production
# In development mode, API key auth is bypassed
API_KEYS=your-api-key-1,your-api-key-2,your-api-key-3
API_KEY=your-primary-api-key

# JWT Secret for WebSocket authentication
JWT_SECRET=your-jwt-secret-key-min-32-characters-long

# Payload Size Limits
MAX_JSON_SIZE=10mb
MAX_URLENCODED_SIZE=10mb
MAX_RAW_SIZE=50mb
MAX_TEXT_SIZE=10mb
MAX_PAYLOAD_SIZE=10mb

# ============================================
# Rate Limiting Configuration
# ============================================

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit save interval in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_SAVE_INTERVAL=60000

# Redis URL for rate limiting (optional, falls back to file-based)
# Example: redis://localhost:6379
REDIS_URL=

# ============================================
# Database Backup Configuration
# ============================================

# Enable/disable automated backups (default: true)
BACKUP_ENABLED=true

# Backup directory path (default: ./backups)
BACKUP_DIR=./backups

# Backup interval in milliseconds (default: 86400000 = 24 hours)
BACKUP_INTERVAL_MS=86400000

# Enable compression for backups (default: true)
BACKUP_COMPRESSION=true

# Comma-separated list of database file paths to backup
DB_PATHS=./data/database.db,./data/cache.db

# Retention policies (number of backups to keep)
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=12

# ============================================
# Prometheus Metrics Configuration
# ============================================

# Metrics endpoint is available at /metrics
# No additional configuration required

# ============================================
# Pagination Configuration
# ============================================

# Default number of items per page (default: 20)
PAGINATION_DEFAULT_LIMIT=20

# Maximum number of items per page (default: 100)
PAGINATION_MAX_LIMIT=100